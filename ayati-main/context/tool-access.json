{
  "_help": {
    "overview": "Controls which tools the agent can use at runtime.",
    "global": {
      "enabled": "Master switch — set false to disable ALL tools.",
      "mode": "'off' = disabled, 'allowlist' = only tools listed in allowedTools, 'full' = unrestricted.",
      "allowedTools": "Tool names (or prefixes) permitted when mode is 'allowlist'. Ignored in 'full' mode."
    },
    "tools": {
      "description": "Per-tool overrides. Each key is a tool name with its own policy.",
      "shell": {
        "enabled": "Enable/disable this specific tool.",
        "mode": "'off' | 'allowlist' | 'full' — same semantics as global.mode.",
        "allowedPrefixes": "Command prefixes allowed when mode is 'allowlist' (e.g. ['echo', 'git']).",
        "timeoutMs": "Max execution time in ms (capped at 120000).",
        "maxOutputChars": "Truncate output beyond this limit (capped at 200000).",
        "allowAnyCwd": "If false, cwd must be within the project workspace."
      },
      "notes": {
        "enabled": "Enable/disable persistent notes tool. Supports create/get/search/list/update/delete actions."
      }
    },
    "guardrails": {
      "filesystem": {
        "allowedReadRoots": "Roots that can be read/listed/searched.",
        "allowedWriteRoots": "Roots where create/write/edit/delete/move are allowed.",
        "protectedPaths": "Hard-blocked paths for modification.",
        "protectedGlobs": "Glob-style hard-block paths (supports * and **).",
        "requireConfirmationFor": "Operations that require confirmation token, e.g. delete, move_overwrite.",
        "maxListEntries": "Hard cap for list_directory entries.",
        "maxListDepth": "Hard cap for recursive list depth.",
        "maxSearchResults": "Hard cap for find/search result count.",
        "maxSearchDepth": "Hard cap for recursive search depth."
      },
      "shell": {
        "allowedPrefixes": "Optional additional shell allowlist. Empty means no extra prefix restriction here.",
        "profile": "One of read_only, developer, power_user.",
        "readOnlyPrefixes": "Profile allowlist for read_only profile.",
        "developerPrefixes": "Profile allowlist for developer profile.",
        "powerUserPrefixes": "Profile allowlist for power_user profile.",
        "denyPrefixes": "Always-blocked command prefixes.",
        "denyPatterns": "Regex patterns to block dangerous commands.",
        "denyOperators": "Blocked shell operators.",
        "destructivePrefixes": "Prefixes requiring confirmation when enabled.",
        "destructivePatterns": "Regex patterns requiring confirmation when destructive mode is enabled.",
        "allowedScriptExtensions": "Script extensions allowed by shell_run_script.",
        "maxScriptBytes": "Maximum script size for shell_run_script.",
        "maxConcurrentSessions": "Maximum live shell sessions.",
        "sessionIdleTimeoutMs": "Idle timeout for interactive shell sessions.",
        "maxSessionOutputChars": "Output buffer cap per shell session.",
        "requireConfirmationFor": "Contains 'destructive' and/or 'script' for confirmation-gated operations."
      },
      "confirmation": {
        "enabled": "Enable token confirmation flow.",
        "tokenPrefix": "Token prefix format, e.g. CONFIRM:operation_id.",
        "ttlMs": "Token expiry in milliseconds."
      },
      "audit": {
        "enabled": "Enable guardrail audit behavior.",
        "logDecisions": "Log allow/deny confirmation decisions."
      }
    },
    "env_fallbacks": "If this file is missing, config is built from env vars: TOOLS_ENABLED, TOOLS_MODE, TOOLS_ALLOWED, SHELL_TOOL_ENABLED, SHELL_TOOL_MODE, etc.",
    "granting_access": "To grant a new tool access in allowlist mode, add its name to global.allowedTools.",
    "revoking_access": "Set the tool's 'enabled' to false, or set global mode to 'off' to disable everything."
  },
  "global": {
    "enabled": true,
    "mode": "full",
    "allowedTools": []
  },
  "tools": {
    "shell": {
      "enabled": true,
      "mode": "allowlist",
      "allowedPrefixes": [
        "find",
        "fd",
        "rg",
        "ls",
        "cat",
        "pwd",
        "echo",
        "stat",
        "head",
        "tail",
        "wc",
        "du",
        "ps",
        "env",
        "printenv",
        "which",
        "whoami",
        "git",
        "docker",
        "curl",
        "bash",
        "sh",
        "make",
        "npm",
        "pnpm",
        "yarn",
        "node",
        "python",
        "python3",
        "go",
        "cargo",
        "rustc",
        "mv",
        "cp",
        "chmod",
        "chown"
      ],
      "timeoutMs": 15000,
      "maxOutputChars": 20000,
      "allowAnyCwd": false
    },
    "rename_agent": {
      "enabled": true
    },
    "calculator": {
      "enabled": true
    },
    "notes": {
      "enabled": true
    }
  },
  "guardrails": {
    "filesystem": {
      "enabled": true,
      "allowedReadRoots": [
        "/"
      ],
      "allowedWriteRoots": [
        "/home/sai-eshwar/my_folder/ayati-a1/ayati-main",
        "/tmp"
      ],
      "protectedPaths": [
        "/etc",
        "/usr",
        "/bin",
        "/sbin",
        "/boot",
        "/lib",
        "/lib64",
        "/var/lib",
        "/root",
        "/dev",
        "/proc",
        "/sys"
      ],
      "protectedGlobs": [],
      "requireConfirmationFor": [
        "delete",
        "move_overwrite",
        "shell_destructive"
      ],
      "maxListEntries": 1000,
      "maxListDepth": 8,
      "maxSearchResults": 500,
      "maxSearchDepth": 10
    },
    "shell": {
      "enabled": true,
      "allowAnyCwd": false,
      "profile": "developer",
      "readOnlyPrefixes": [
        "find",
        "fd",
        "rg",
        "ls",
        "cat",
        "pwd",
        "echo",
        "stat",
        "head",
        "tail",
        "wc",
        "du",
        "ps",
        "env",
        "printenv",
        "which",
        "whoami"
      ],
      "developerPrefixes": [
        "find",
        "fd",
        "rg",
        "ls",
        "cat",
        "pwd",
        "echo",
        "stat",
        "head",
        "tail",
        "wc",
        "du",
        "ps",
        "env",
        "printenv",
        "which",
        "whoami",
        "git",
        "docker",
        "curl",
        "bash",
        "sh",
        "make",
        "npm",
        "pnpm",
        "yarn",
        "node",
        "python",
        "python3",
        "go",
        "cargo",
        "rustc",
        "mv",
        "cp",
        "chmod",
        "chown"
      ],
      "powerUserPrefixes": [
        "find",
        "fd",
        "rg",
        "ls",
        "cat",
        "pwd",
        "echo",
        "stat",
        "head",
        "tail",
        "wc",
        "du",
        "ps",
        "env",
        "printenv",
        "which",
        "whoami",
        "git",
        "docker",
        "curl",
        "bash",
        "sh",
        "make",
        "npm",
        "pnpm",
        "yarn",
        "node",
        "python",
        "python3",
        "go",
        "cargo",
        "rustc",
        "mv",
        "cp",
        "chmod",
        "chown",
        "kubectl",
        "helm",
        "terraform"
      ],
      "allowedPrefixes": [],
      "denyPrefixes": [
        "rm",
        "dd",
        "mkfs",
        "shutdown",
        "reboot",
        "poweroff",
        "init",
        "killall"
      ],
      "denyPatterns": [
        "\\brm\\s+[^\\n]*\\-rf\\b",
        "\\b:\\(\\)\\s*\\{\\s*:\\|:&\\s*\\};:\\b",
        "\\bcurl\\b[^\\n]*\\|\\s*(sh|bash)\\b",
        "\\bwget\\b[^\\n]*\\|\\s*(sh|bash)\\b"
      ],
      "denyOperators": [
        "&&",
        "||",
        ";"
      ],
      "destructivePrefixes": [
        "mv",
        "cp",
        "chmod",
        "chown",
        "git",
        "docker"
      ],
      "destructivePatterns": [
        "\\bgit\\s+(push|reset|clean|rebase|revert)\\b",
        "\\bdocker\\s+(rm|rmi|system\\s+prune|container\\s+prune|image\\s+prune|volume\\s+prune)\\b",
        "\\b(chmod|chown)\\b"
      ],
      "allowedScriptExtensions": [
        ".sh",
        ".bash"
      ],
      "maxScriptBytes": 1048576,
      "maxConcurrentSessions": 4,
      "sessionIdleTimeoutMs": 600000,
      "maxSessionOutputChars": 100000,
      "requireConfirmationFor": [
        "destructive",
        "script"
      ]
    },
    "confirmation": {
      "enabled": true,
      "tokenPrefix": "CONFIRM:",
      "ttlMs": 300000
    },
    "audit": {
      "enabled": true,
      "logDecisions": true
    }
  }
}
