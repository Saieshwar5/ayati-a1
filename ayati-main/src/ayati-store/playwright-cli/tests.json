{
  "schemaVersion": "ayati-tests/v1",
  "skillId": "playwright-cli",
  "suiteName": "playwright-cli-development-smoke",
  "executionMode": "declarative",
  "scenarios": [
    {
      "id": "smoke-open-goto-close",
      "title": "Open, navigate, snapshot, close",
      "goal": "Confirm core browser-use workflow is available.",
      "type": "manual",
      "preconditions": [
        "playwright-cli-binary"
      ],
      "steps": [
        "Run `playwright-cli open`.",
        "Run `playwright-cli goto https://example.com`.",
        "Run `playwright-cli snapshot`.",
        "Run `playwright-cli close`."
      ],
      "expected": [
        "All commands succeed.",
        "Snapshot output is produced.",
        "Browser session closes cleanly."
      ],
      "passCriteria": "All expected outcomes are observed."
    },
    {
      "id": "fallback-npx-help",
      "title": "Fallback command availability",
      "goal": "Confirm npx fallback invocation works.",
      "type": "command",
      "preconditions": [
        "node-npx-fallback"
      ],
      "steps": [
        "Execute fallback help command."
      ],
      "commands": [
        {
          "program": "npx",
          "args": [
            "--yes",
            "playwright-cli",
            "--help"
          ],
          "allowFailure": false
        }
      ],
      "expected": [
        "Command exits with code 0.",
        "Output includes usage/help text."
      ],
      "passCriteria": "Fallback command completes successfully."
    },
    {
      "id": "guardrails-review",
      "title": "Guardrails remain restrictive",
      "goal": "Ensure shell safety constraints are not weakened.",
      "type": "manual",
      "preconditions": [],
      "steps": [
        "Review denyPrefixes and denyOperators in guardrails.json.",
        "Review toolAccessPlan operations for additive/restrictive actions only."
      ],
      "expected": [
        "Destructive prefixes are denied.",
        "No operation weakens existing core protections."
      ],
      "passCriteria": "Manual policy review passes."
    }
  ]
}
